import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { moduleMetadata } from '@storybook/angular';

import { OpSpotModule } from "../app/spot/spot.module";
import { SbBreadcrumbsExample } from './Breadcrumbs.example';
import { SbBreadcrumbsFourLevelsExample } from './BreadcrumbsFourLevels.example';
import { SbBreadcrumbsFiveLevelsExample } from './BreadcrumbsFiveLevels.example';

<Meta
  title="Patterns/Breadcrumbs"
  decorators={[
    moduleMetadata({
      imports: [
        OpSpotModule,
      ],
    }),
  ]}
/>

# Breadcrumbs

<Canvas>
  <Story name="Default example">
    {{ component: SbBreadcrumbsExample }}
  </Story>
</Canvas>

Breadcrumbs provide important semantic context to information being presented on the screen by allowing users to identify where they are in a hierarchical structure.

Breadcrumbs allow users to:

- identify their current location (in a folder structure or hierarchy of work packages)
- navigate up to the parent(s)

## Structure and Options

Breadcrumbs consist of a series of "levels" presented horizontally, separated by a right arrow (▶). Each level is a child of the level preceding it, except the first level, which is the root.

<Canvas>
  <Story name="Four levels">
    {{ component: SbBreadcrumbsFourLevelsExample }}
  </Story>
</Canvas>

## Behaviour

The last level is always the current level; this is never clickable. All other levels (the parents) are links, and clicking on them will take users to that level.

Because the length of the breadcrumb can vary significantly (depending on the title of each level and the available space), it can condense to fit the available space:

- The breadcrumb can show four (4) levels in full, space permitting, before going to "collapsed" mode.
- If the available space in the parent container not does afford sufficient width to display the four levels in full, the middle levels are truncated with ellipses ("Root ▶ Second le... ▶ Third le... ▶ Fourth level").

<Canvas>
  <Story name="Five levels">
    {{ component: SbBreadcrumbsFiveLevelsExample }}
  </Story>
</Canvas>

There are special rules on mobile:

- The root level shows only an icon and ellipses ("...", fully truncated).
- The direct parent (...) is displayed as non-shrinkable ellipses that are clickable
- Further parents (between the direct parent and the root) are not displayed
- The current level maybe be truncated with ellipses ("[Icon] ... ▶ ... ▶ Current le...) if needed.

To view the mobile style, reduce the viewport width of your browser below 680px.

## Options

Each level can consist of:

- an icon
- a text

The icon is almost always only used for the first item, although the component does allow it to be present at any level.

The text for each level is always a link, except for:

- current level
- collapsed levels between the direct parent and root in collapsed mode

## Margins and Spacing


The breadcrumb component does not inherently have margins or padding. There is a 0.25 rem spacing between each level and a right arrow (that is, 0.25 to the left and right of every right arrow).
